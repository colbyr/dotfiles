# Homebrew autocompletions
if type brew &>/dev/null; then
  FPATH=$(brew --prefix)/share/zsh/site-functions:$FPATH
fi

export EDITOR=$(which vim)
export PATH="$HOME/dotfiles/bin:$PATH"

alias g="git"
alias gnp="git --no-pager"
alias ll="ls -AFhlo"
alias vimsplat="xargs -o vim -O"
alias tmyx="tmux"

# Prefix-based history search with up/down arrows
bindkey "^[[A" history-beginning-search-backward
bindkey "^[[B" history-beginning-search-forward

function notify {
  /usr/bin/osascript -e "display notification \"$*\""
}

function lmk {
  if eval "$@"; then
    notify "\`$@\` succeeded ðŸ™Œ"
  else
    notify "\`$@\` failed ðŸ’”"
  fi
}

pi() {
  cat ./package.json | jq ".$1"
}

tmux-claude() {
  tmux new-session -s "${1:-claude}" \; send-keys "claude ${*:2}; exit" Enter
}

alias cmux="tmux-claude"
